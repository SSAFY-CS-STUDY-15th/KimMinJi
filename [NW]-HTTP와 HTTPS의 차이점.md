## HTTP(Hyper Text Trnasfer Porotcol)란?

HTTP는 클라이언트와 서버 간 통신을 위한 통신 규약입니다. OSI 7계층 중 Application 계층에서의 프로토콜로 요청과 응답으로 구성되어 있습니다.

## HTTPS vs HTTP

HTTPS(Hyper Text Transfer Protocol Secure)이름에서 볼 수 있듯 HTTP에 데이터 암호화가 추가된 버전입니다. HTTP는 데이터를 전송할 때 평문으로 전송하기 때문에 제 3자가 정보를 가로채면 해당 데이터를 읽을 수 있고 패스워드 정보 등을 HTTP로 전송할 경우 보안에 매우 취약할 수 밖에 없습니다. HTTPS는 이러한 문제를 해결하기 위해 생겨난 방식으로, 평문이 아닌 암호화된 데이터를 주고받기 때문에 이러한 부분에서 더 **안전한** 통신 규약이라고 할 수 있습니다.

| 구분   | HTTPS | HTTP |
| ------ | ----- | ---- |
| 암호화 | O     | X    |
| 포트   | 80    | 443  |

### 전달되는 데이터 눈으로 확인해보기

~~학부생 때 마지막으로 써봤던~~ 와이어샤크를 깔아서 어떤 데이터가 전달되는지 확인해봤습니다.
(는 공용 와이파이에서 이런 짓을 하면 큰일날 수 있으므로.. 집가서 안전한 와이파이로 다시 테스트해서 업로드하겠습니다.)

## HTTPS는 데이터를 어떻게 암호화하고 있을까?

HTTPS는 대칭키 암호화 방식과 비대칭키 암호화 방식을 모두 사용하고 있습니다. 한마디로 정의하면 대칭키를 전달하는 과정에서 비대칭키 암호화 방식을 사용하는 방식입니다.

### 대칭키 암호화

대칭키 암호화는 암호화와 복호화에 사용하는 키가 동일한 것을 말합니다. 대칭키를 가진 사람은 암호화와 복호화가 모두 가능합니다. 대표적인 알고리즘으로 DES, SEED 등이 있습니다.<br/>
하지만 대칭키 방식은 해당 키를 어떻게 전달할 것인지에 대한 문제가 발생합니다. 한 가지 키로 암호화와 복호화를 모두 진행하기 때문에 키를 전달하는 과정에서 탈취당하게되면 키를 사용하지 않는것과 같은 상황이 발생합니다.

### 비대칭키 암호화(공개키 암호화)

비대칭키 암호화 방식의 경우 대칭키 암호화 방식의 배송 문제를 해결하기 위해 등장했습니다. 비대칭키 암호화 방식의 경우 서로 다른 두개의 키인 공개키와 개인키를 사용합니다.<br/>
공개키의 경우 이름처럼 공개되어도 되는 키이고, 개인키는 자신만 가지고 있는 키라고 보면됩니다. 공개키로 암호화한 암호문은 개인키로만 복호화할 수 있습니다.

### 결론

HTTPS는 대칭키 방식이 비대칭키 방식에 비해 속도가 빠르다는 이점은 그대로 이용하면서 대칭키를 안전하게 전달하고자 비대칭키 방식을 사용합니다.<br/>
클라이언트가 서버에 접속을 요청하면 서버는 공개키가 포함된 인증서를 전달합니다. 클라이언트는 공개키로 대칭키를 암호화하여 서버로 전송하고 서버는 이를 복호화하여 대칭키를 획득합니다.

## 그렇다면 HTTPS는 완전히 안전할까?

~~제가 면접에서 제대로 답하지 못했던 질문..~~

그렇다면 HTTPS 는 만능 보안 프로토콜인가? 라는 질문에는 아니라고 말할 수 있습니다.
HTTPS는 전송 구간 상에서 네트워크 중간에서의 패킷 도청이나 평문 비밀번호, 토큰 탈취는 방지할 수 있지만 클라이언트 단에서 보내는 공격을 막거나 피싱사이트 여부를 확인하는 역할은 하지 못합니다.
